<ion-view class='background'>

  <ion-content class="padding">
    <h1>{{vm.bracket[0].bracket_name}}</h1>
    <main id="tournament">
    	<ul class="round round-1">
    		<li class="spacer">&nbsp;</li>

      <a style="text-decoration : none" ng-click='vm.roundDetails(vm.bracket, "N1", "N2", "round1")'>
    		<span ng-repeat="player in vm.bracket"><span id="topPlayer" ng-if="player.initial_location === 'N1'">{{player.user_name}}</span></span><li class="game game-top"></li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom "><span ng-repeat="player in vm.bracket"><span ng-if="player.initial_location === 'N2'">{{player.user_name}}</span></span></li>
        </a>

    		<li class="spacer">&nbsp;</li>

        <a style="text-decoration : none" ng-click='vm.roundDetails(vm.bracket, "N3", "N4", "round1")'>
    		<span ng-repeat="player in vm.bracket"><span id="topPlayer" ng-if="player.initial_location === 'N3'">{{player.user_name}}</span></span><li class="game game-top"></li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom "><span ng-repeat="player in vm.bracket"><span ng-if="player.initial_location === 'N4'">{{player.user_name}}</span></span></li>
      </a>

    		<li class="spacer">&nbsp;</li>

        <a style="text-decoration : none" ng-click='vm.roundDetails(vm.bracket, "S1", "S2", "round1")'>
    		<span ng-repeat="player in vm.bracket"><span id="topPlayer" ng-if="player.initial_location === 'S1'">{{player.user_name}}</span></span><li class="game game-top "></li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom "><span ng-repeat="player in vm.bracket"><span ng-if="player.initial_location === 'S2'">{{player.user_name}}</span></span></li>
      </a>

    		<li class="spacer">&nbsp;</li>

        <a style="text-decoration : none" ng-click='vm.roundDetails(vm.bracket, "S3", "S4", "round1")'>
    		<span ng-repeat="player in vm.bracket"><span id="topPlayer" ng-if="player.initial_location === 'S3'">{{player.user_name}}</span></span><li class="game game-top"></li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom "><span ng-repeat="player in vm.bracket"><span ng-if="player.initial_location === 'S4'">{{player.user_name}}</span></span></li>
      </a>

    		<li class="spacer">&nbsp;</li>
    	</ul>


      <ul class="round round-2">
    		<li class="spacer">&nbsp;</li>

          <a style="text-decoration : none" ui-sref='round-details'>
           <span ng-click='vm.roundDetails2(vm.bracket, 1)'>
          <span ng-repeat="player in vm.bracket">
            <span id="topPlayer" ng-if="player.initial_location === 'N1' && player.round1">{{player.user_name}}</span>
            <span id="topPlayer" ng-if="player.initial_location === 'N2' && player.round1">{{player.user_name}}</span>
          </span>
          <li class="game game-top">
        </li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom ">
          <span ng-repeat="player in vm.bracket">
            <span ng-if="player.initial_location === 'N3' && player.round1">{{player.user_name}}</span>
            <span ng-if="player.initial_location === 'N4' && player.round1">{{player.user_name}}</span>
          </span>
        </li>
      </span>
      </a>

    		<li class="spacer">&nbsp;</li>

          <a style="text-decoration : none" ui-sref='round-details'>
            <span ng-click='vm.roundDetails2(vm.bracket, 2)'>

          <span ng-repeat="player in vm.bracket">
            <span id="topPlayer" ng-if="player.initial_location === 'S1' && player.round1">{{player.user_name}}</span>
            <span id="topPlayer" ng-if="player.initial_location === 'S2' && player.round1">{{player.user_name}}</span>
          </span>
          <li class="game game-top">
        </li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom ">
          <span ng-repeat="player in vm.bracket">
            <span ng-if="player.initial_location === 'S3' && player.round1">{{player.user_name}}</span>
            <span ng-if="player.initial_location === 'S4' && player.round1">{{player.user_name}}</span>
          </span>
        </li>
      </span>
      </a>
    		<li class="spacer">&nbsp;</li>
    	</ul>

    	<ul class="round round-3">
    		<li class="spacer">&nbsp;</li>

        <span ng-click='vm.roundDetails3(vm.bracket, "round3")'>

        <a style="text-decoration : none" ui-sref='round-details'>


          <span ng-repeat="player in vm.bracket">
            <span id="topPlayer" ng-if="player.initial_location === 'N1' && player.round2">{{player.user_name}}</span>
            <span id="topPlayer" ng-if="player.initial_location === 'N2' && player.round2">{{player.user_name}}</span>
            <span id="topPlayer" ng-if="player.initial_location === 'N3' && player.round2">{{player.user_name}}</span>
            <span id="topPlayer" ng-if="player.initial_location === 'N4' && player.round2">{{player.user_name}}</span>
          </span>
          <li class="game game-top">
        </li>
    		<li class="game game-spacer">&nbsp;</li>
    		<li class="game game-bottom">
          <span ng-repeat="player in vm.bracket">
            <span ng-if="player.initial_location === 'S1' && player.round2">{{player.user_name}}</span>
            <span ng-if="player.initial_location === 'S2' && player.round2">{{player.user_name}}</span>
            <span ng-if="player.initial_location === 'S3' && player.round2">{{player.user_name}}</span>
            <span ng-if="player.initial_location === 'S4' && player.round2">{{player.user_name}}</span>
          </span>
        </li>

      </span>

      </a>
    </span>

    		<li class="spacer">&nbsp;</li>
    	</ul>
    </main>
    <button class='btn btn-warning text-center' ng-click="vm.refresh()">Refresh Bracket</button>
    <button class='btn btn-warning text-center' ng-hide="vm.bracketFull" ng-click="vm.addMorePlayers()">Add more players</button>
</ion-content>
</ion-view>
